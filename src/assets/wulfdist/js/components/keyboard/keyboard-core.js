/*!
 * WULF v1.2.39 (http://wulf-demo.dynamic.nsn-net.net/)
 * Copyright Â© 2016-2017 Nokia. All rights Reserved.
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){"use strict";function b(a){return a.hasClass("n-list-group-item")||a.hasClass("nav-local-menu-item")?a.is("dd")?a.closest("dl"):a.closest("ul"):a.hasClass("tree-branch-name")||a.hasClass("tree-item-name")?a.closest("ul.tree"):a.closest("ul")}function c(b,c){var e,f=d(b);switch(e=a(c.target).is("a")&&a(c.target).closest("ul").hasClass("nav-local")?f.index(a(c.target).closest("li")):f.index(c.target),c.keyCode){case o:e=c.shiftKey?e>0?e-1:0:e<f.length-1?e+1:f.length-1;break;case j:case l:e=e>0?e-1:0;break;case k:case m:e=e<f.length-1?e+1:f.length-1}return f.eq(e)}function d(b){if(b.children().children().hasClass("datepicker"))return b.children();if(b.children().hasClass("datepicker"))return b.parent().children();if(b.prev().children().hasClass("datepicker"))return b.parent().children();if(a(b).hasClass("n-list-group")||a(b).hasClass("nav-local"))return a(b).is("dl")?b.find("dd"):b.find("li");if(a(b).hasClass("n-flyout-menu"))return b.find("li a");if(a(b).hasClass("n-banner-tabs")||a(b).hasClass("nav-tabs"))return b.children("li:not([disabled])").children("a");if(a(b).hasClass("dropdown-menu"))return b.closest("ul.n-banner-links").length>0?b.parent("li:not(.disabled)").find("a:not([disabled]):visible"):b.find("li:not(.disabled)").children("a:not([disabled]):visible");if(a(b).hasClass("tree")){for(var c=[],d=b.find("li:not(.hide) a"),e=0;e<=d.length-1;e++)f(a(d[e]))||c.push(d[e]);return a(c)}return a(b).is("tr")&&!g(b)?a(b).parent().is(".n-multicolumn-list thead")||a(b).parent().is(".n-table thead")?b.find("th"):b.find("td"):a(b).hasClass("n-banner-links")||a(b).hasClass("n_banner_3rd_subItem")?b.children("li:not([disabled])").find(">a"):b.find("li")}function e(b,c){if(0!==a(b).find(".mCSB_container").length&&!a(c).closest("table").hasClass("datepicker-calendar-days")){var d=a(b).offset().top,e=a(c).offset().top,f=a(b).get(0).clientHeight,g=c.get(0).offsetHeight,h=e-d,i=h+g;return 10>h||i>f-10}}function f(a){for(var b=!1,c=a.parent();!c.hasClass("tree")&&!c.is("html");){if(c.closest("ul").hasClass("hidden")){b=!0;break}c=c.parent()}return b}function g(a){var b="none"===a.css("display"),c="hidden"===a.css("visibility"),d=0===a.height();return b||c||d}var h=32,i=13,j=37,k=39,l=38,m=40,n=27,o=9,p={commonKeyboardHandler:function(d){var f=[o,i,h,l,m,j,k,n];if(!(-1===f.indexOf(d.keyCode)||d.data&&d.data.notSupport&&-1!==d.data.notSupport.indexOf(d.keyCode))){var g=a(d.target);d.keyCode!==o&&d.preventDefault();var p,q;switch(d.keyCode){case o:"A"===g.get(0).tagName&&g.closest("ul").closest("div").hasClass("selectlist-multiple")&&g.find("input[type='checkbox']").focus(),p=b(a(d.target)),q=c(p,d),e(p,q)&&a(p).mCustomScrollbar("scrollTo",q,{scrollInertia:0});break;case n:"A"===g.get(0).tagName&&g.closest("ul").closest("div").hasClass("selectlist-multiple")?g.closest(".dropdown-menu").prev().trigger("click"):"INPUT"===g.get(0).tagName&&g.closest("ul").closest("div").hasClass("selectlist-multiple")&&(g.closest(".dropdown-menu").prev().trigger("click"),d.stopPropagation());break;case h:case i:"A"===g.get(0).tagName&&g.closest("ul").closest("div").hasClass("selectlist-multiple")?g.find("input[type='checkbox']").trigger("click"):"INPUT"===g.get(0).tagName&&g.closest("ul").closest("div").hasClass("selectlist-multiple")?(g.trigger("click"),d.stopPropagation()):g.is("li")&&g.parent().hasClass("n-banner-nav")?g.closest("li").hasClass("disabled")||g.tab("show"):g.hasClass("n-close")?g.find(".icon-close").click():g.trigger("click");break;case l:case m:d.preventDefault(),d.stopPropagation(),p=b(a(d.target)),q=c(p,d),q.trigger("focus"),e(p,q)&&a(p).mCustomScrollbar("scrollTo",q,{scrollInertia:0,timeout:1});break;case j:case k:(g.is("a")&&(g.closest("ul").hasClass("n-banner-nav")||g.closest("ul").hasClass("nav-tabs")||g.closest("ul").hasClass("nav-local"))||g.closest("ul").hasClass("n_banner_3rd_subItem"))&&(p=b(g),q=c(p,d),g.is("a")&&g.closest("ul").hasClass("nav-local")?q.find("a").trigger("focus"):q.trigger("focus"))}}},getAllVisibleSubItems:function(a){return d(a)},isScrollNeeded:function(a,b){return e(a,b)},isHiddenElement:function(a){return g(a)}};a(document).on("keydown.wf.common.keyboard",".dropdown-menu",p.commonKeyboardHandler).on("keydown.wf.common.keyboard",".icon-close",{notSupport:[l,m]},p.commonKeyboardHandler).on("keydown.wf.common.keyboard",".n-close",{notSupport:[l,m]},p.commonKeyboardHandler).on("keydown.wf.common.keyboard","a[data-toggle=modal]",p.commonKeyboardHandler),a.wfKBCore=p});