/*!
 * WULF v1.2.39 (http://wulf-demo.dynamic.nsn-net.net/)
 * Copyright Â© 2016-2017 Nokia. All rights Reserved.
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./keyboard-core"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,require("./keyboard-core")),c}:a(jQuery)}(function(a){"use strict";function b(b){var c=a(b.target);(c.is("td")||c.is("th"))&&(b.preventDefault(),a(b.target).trigger("click"),c.find("input").length>0&&(c.find("input").focus(),c.find("input").val(c.find("input").val()),c.find(".selectlist").length>0&&c.find("button").trigger("click"),c.find(".n-calendar").length>0&&c.find("button").focus()))}function c(b,c){var d=a(b.target),e="text"!==d.attr("type"),h=!d.is("td"),i=!d.is("th"),n=d.find(".n-calendar").length<=0,o=!d.parent().parent().parent().hasClass("n-multicolumn-list");e&&h&&o&&n&&i&&(g(d),d=d.closest("td"));var p=f(d,b);p.length>0&&!d.hasClass("n-inputfield")&&(b.preventDefault(),d.closest("table").hasClass("n-table-hover")?(d.closest("tr").find("td").each(function(){a(this).removeClass(c)}),p.closest("tr").find("td").each(function(){a(this).addClass(c)})):(d.closest("table").hasClass("datepicker-calendar-days")||b.keyCode!==j&&b.keyCode!==k&&b.keyCode!==l&&b.keyCode!==m||"true"!==d.find(".datepicker").find(".dropdown-toggle").attr("aria-expanded")||d.find(".datepicker").find(".dropdown-toggle").trigger("click").blur(),d.removeClass(c),p.addClass(c)),d.hasClass("n-drillDown-item")||d.removeAttr("tabindex"),p.attr("tabindex",0),p.trigger("focus"));var q=p.closest(".n-table-scrollbar");a.wfKBCore.isScrollNeeded(q,p)&&a(q).mCustomScrollbar("scrollTo",p,{scrollInertia:0})}function d(b,c){var d=a(b.target);d.closest("table").not(".n-drilldown-table").find("td").removeAttr("tabindex"),d.parent().parent().parent().hasClass("n-multicolumn-list")&&a(".n-multicolumn-list tbody:not(.group) td, th, .n-multicolumn-list tbody.group").prop("tabIndex",0),d.closest(".n-table").find("td").each(function(){a(this).removeClass(c)})}function e(b,c){var d=a(b.target);"INPUT"===d.get(0).tagName&&d.hasClass("n-inputfield")&&d.parent().focus().addClass(c)}function f(b,c){b.hasClass("n-inputfield")&&!b.parent().hasClass("n-calendar")&&(b=b.closest("td"));var d,e,f=a.wfKBCore.getAllVisibleSubItems(b.parent()),g=f.index(b);switch(c.keyCode){case n:if(c.shiftKey)if(g>0)g--;else{for(g=f.length-1,d=b.parent().prev();a.wfKBCore.isHiddenElement(d);)d=d.prev();f=a.wfKBCore.getAllVisibleSubItems(d)}else if(g<f.length-1)g++;else{for(g=0,e=b.parent().next();a.wfKBCore.isHiddenElement(e);)e=e.next();f=a.wfKBCore.getAllVisibleSubItems(e)}break;case j:g=g>0?g-1:0;break;case k:g=g<f.length-1?g+1:f.length-1;break;case l:for(d=b.parent().is(".n-multicolumn-list tbody tr:first-child")?b.parent().parent().prev().find("tr"):b.parent().is(".n-table tbody tr:first-child")?b.parent().parent().prev().find("tr"):b.parent().prev();a.wfKBCore.isHiddenElement(d);)d=d.prev();f=d.length>0?a.wfKBCore.getAllVisibleSubItems(d):f;break;case m:for(e=b.hasClass("n-multicolumn-list-th")||b.is(".n-table th")?b.parent().parent().next().find("tr:first-child"):b.parent().next();a.wfKBCore.isHiddenElement(e);)e=e.next();f=e.length>0?a.wfKBCore.getAllVisibleSubItems(e):f}return f.eq(g)}function g(a){a.closest("div").hasClass("selectlist")&&"true"===a.closest("div").find("button").attr("aria-expanded")&&a.closest("div").find("button").trigger("click")}var h=13,i=32,j=37,k=39,l=38,m=40,n=9,o=27;a.wfKBTable={tableKeyboardHandler:function(a){var f=[n,i,h,j,k,l,m,o],g="n-cell-selected";if(-1!==f.indexOf(a.which))switch(a.keyCode){case i:case h:b(a);break;case j:case k:case l:case m:c(a,g);break;case n:d(a,g);break;case o:e(a,g)}},handleTableDirectionKeyAction:function(a,b){c(a,b)}}});